<div section="cart" theme="{{ section.settings.theme }}">
  <div class="cart-head">
    <h2 class="title">Your shopping cart</h2>
    <p class="description">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolorem, iusto?</p>
  </div>
  <div class="cart-core">
    <template ui-cart-item>
      {% render 'ui-cart-item', product: product %}
    </template>
    <ui-cart-items
      {% unless cart.items.size > 0 %}
        hidden
      {% endunless %}
    >
      {% for product in cart.items %}
        {% render 'ui-cart-item', product: product %}
      {% endfor %}
    </ui-cart-items>
    <div
      class="summary"
      {% unless cart.items.size > 0 %}
        hidden
      {% endunless %}
      ui-cart-summary
    >
      <div class="head">
        <h3>{{ 'cart.page.summary.title' | t }}</h3>
      </div>
      <ul class="detail-items">
        <li class="item">
          <span class="label">{{ 'order.coupon_code' | t }}</span>
          <span class="value">{{ cart.coupon.code }}</span>
        </li>
        <li class="item">
          <span class="label">{{ 'cart.page.summary.subtotal' | t }}</span>
          <span class="value" ui-cart-item="subtotal">{{ cart.sub_total | default: 0 | money }}</span>
        </li>
        <li class="item">
          <span class="label">{{ 'order.discount_amount' | t }}</span>
          <span class="value"> {% render 'ui-discount-value', coupon: cart.coupon %} </span>
        </li>
        <li class="item">
          <span class="label">{{ 'cart.page.summary.total' | t }}</span>
          <span class="value">{{ cart.discounted_sub_total | default: 0 | money }}</span>
        </li>
      </ul>
      <div class="cta">
        <a href="{{ cart.cart_submit_url }}" ui-button data-variant="secondary" data-size="md">
          {{ 'cart.page.summary.checkout_button' | t }}
          {% render 'ui-icon', name: 'arrow_right_alt' %}
        </a>
      </div>
    </div>
    {% if cart.items.size > 0 %}
      {% render 'ui-empty', content: 'Cart is empty (;-;)', hidden: true %}
    {% else %}
      {% render 'ui-empty', content: 'Cart is empty (;-;)' %}
    {% endif %}
  </div>
</div>

{% schema %}
{
  "label": "Cart",
  "settings": [
    {
      "type": "select",
      "id": "theme",
      "label": "Theme",
      "options": [
        {
          "value": "primary-low",
          "label": "Primary (low contrast)"
        },
        {
          "value": "primary-high",
          "label": "Primary (high contrast)"
        },
        {
          "value": "neutral",
          "label": "Neutral"
        }
      ],
      "default": "primary-low"
    }
  ]
}
{% endschema %}
